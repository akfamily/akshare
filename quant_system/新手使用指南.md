# A股量化系统 - 新手使用指南

> 零基础也能上手！跟着这个指南一步步操作即可。

## 📋 准备工作

### 检查你的电脑是否安装了Python

**Windows用户**：
1. 按 `Win + R` 键，输入 `cmd`，按回车
2. 在黑色窗口中输入：`python --version`
3. 如果显示 `Python 3.8.x` 或更高版本，说明已安装
4. 如果提示"不是内部或外部命令"，需要先安装Python

**Mac用户**：
1. 按 `Command + 空格`，输入 `terminal`（终端）
2. 在终端中输入：`python3 --version`
3. 如果显示 `Python 3.8.x` 或更高版本，说明已安装

### 如果没有Python，先安装

**Windows**：
1. 访问 https://www.python.org/downloads/
2. 下载最新的Python 3.x版本（推荐3.10或3.11）
3. 双击安装包
4. ⚠️ **重要**：勾选"Add Python to PATH"
5. 点击"Install Now"
6. 安装完成后重启电脑

**Mac**：
```bash
# 使用Homebrew安装（推荐）
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
brew install python
```

## 🚀 第一步：下载代码

### 方法1：使用Git（推荐）

**如果已安装Git**：
```bash
# 进入你想存放项目的文件夹，比如桌面
cd ~/Desktop

# 克隆项目
git clone https://github.com/weiben1989/akshare.git

# 进入项目文件夹
cd akshare/quant_system
```

**如果没有Git**：
- Windows: 下载 https://git-scm.com/download/win
- Mac: 在终端运行 `brew install git`

### 方法2：直接下载（简单但不推荐）

1. 访问 GitHub 项目页面
2. 点击绿色的 "Code" 按钮
3. 选择 "Download ZIP"
4. 解压到任意文件夹
5. 打开终端/命令提示符，进入 `akshare/quant_system` 文件夹

## 🔧 第二步：安装依赖包

在 `quant_system` 文件夹下，打开终端/命令提示符，运行：

```bash
# 升级pip（Python包管理器）
python -m pip install --upgrade pip

# 安装依赖包
pip install pandas numpy scipy scikit-learn sqlalchemy plotly matplotlib python-dateutil statsmodels
```

**可能遇到的问题**：

**问题1**：`pip不是内部或外部命令`
```bash
# 解决：使用python -m pip
python -m pip install pandas numpy
```

**问题2**：安装速度很慢
```bash
# 解决：使用国内镜像源
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple pandas numpy scipy scikit-learn sqlalchemy plotly matplotlib python-dateutil statsmodels
```

**问题3**：权限错误（Mac/Linux）
```bash
# 解决：加上 --user
pip install --user pandas numpy scipy scikit-learn sqlalchemy plotly matplotlib python-dateutil statsmodels
```

## ✅ 第三步：测试运行

### 简单测试

创建一个测试文件 `test_simple.py`（在 `quant_system` 文件夹下）：

```python
# 测试文件：test_simple.py
print("="*50)
print("开始测试量化系统...")
print("="*50)

# 测试1：导入基本模块
try:
    import pandas as pd
    import numpy as np
    print("✓ 基础库导入成功")
except Exception as e:
    print(f"✗ 基础库导入失败: {e}")
    exit()

# 测试2：测试周期分析
try:
    from analysis.cycle.kitchin import KitchinCycle

    kitchin = KitchinCycle()
    result = kitchin.identify_phase()

    print("✓ 基钦周期模块运行成功")
    print(f"  当前阶段: {result['phase_name']}")
    print(f"  阶段进度: {result['progress']:.1%}")
except Exception as e:
    print(f"✗ 周期分析失败: {e}")

# 测试3：测试朱格拉周期
try:
    from analysis.cycle.juglar import JuglarCycle

    juglar = JuglarCycle()
    result = juglar.calculate_phase()

    print("✓ 朱格拉周期模块运行成功")
    print(f"  当前阶段: {result['phase_name']}")
except Exception as e:
    print(f"✗ 朱格拉周期失败: {e}")

# 测试4：测试情绪分析
try:
    from analysis.cycle.marks_pendulum import MarksPendulum

    pendulum = MarksPendulum()
    result = pendulum.calculate_pendulum_position()

    print("✓ 市场情绪分析运行成功")
    print(f"  情绪温度: {result['total_score']:.1f}/100")
    print(f"  市场状态: {result['level']}")
except Exception as e:
    print(f"✗ 情绪分析失败: {e}")

print("="*50)
print("测试完成！")
print("="*50)
```

**运行测试**：
```bash
python test_simple.py
```

如果看到所有 `✓` 都成功，说明安装正确！

### 完整测试 - 生成每日报告

```bash
python main.py
```

成功的话会看到类似这样的输出：
```
╔══════════════════════════════════════════════════════════════╗
║              A股量化系统 - 每日市场分析报告                    ║
╠══════════════════════════════════════════════════════════════╣
║ 报告日期: 2025-10-21
...
```

## 📖 第四步：学习使用

### 运行示例程序

```bash
python examples/basic_usage.py
```

这个程序会交互式地展示6个示例：
1. 生成每日报告
2. 详细周期分析
3. 投资建议
4. 行业轮动策略
5. 择时信号
6. 情绪分析详解

**按照提示按回车键逐个查看**

### 理解输出

**基钦周期（库存周期）**：
- `被动补库` = 经济复苏初期 → 买入周期股（煤炭、钢铁、有色）
- `主动补库` = 经济繁荣期 → 买入制造业（机械、汽车、电子）
- `被动去库` = 经济衰退期 → 转向防御（医药、消费、公用事业）
- `主动去库` = 经济萧条期 → 降低仓位，持有现金

**市场情绪温度**：
- `0-20分` = 极度悲观，历史性机会 → 大胆买入
- `20-40分` = 悲观，可以布局 → 逐步建仓
- `40-60分` = 中性 → 持有观望
- `60-80分` = 乐观，注意风险 → 逐步减仓
- `80-100分` = 极度乐观，危险 → 大幅减仓

## 🎯 第五步：定制使用

### 修改配置

编辑 `config/settings.py`：

```python
# 例如：修改选股数量
'selection': {
    'num_stocks': 30,  # 改为30只（原来是50）
}

# 例如：修改风险控制
'risk': {
    'max_position_pct': 0.08,  # 单股最大8%（原来是10%）
}
```

### 定时运行（高级）

**Windows**：使用任务计划程序
1. 搜索"任务计划程序"
2. 创建基本任务
3. 触发器：每天下午4点
4. 操作：启动程序 `python`
5. 参数：`C:\path\to\akshare\quant_system\main.py`

**Mac/Linux**：使用crontab
```bash
# 编辑定时任务
crontab -e

# 添加一行（每天16:00运行）
0 16 * * * cd /path/to/akshare/quant_system && python main.py >> logs/cron.log 2>&1
```

## 🐛 常见问题排查

### 问题1：ModuleNotFoundError

**错误信息**：`ModuleNotFoundError: No module named 'pandas'`

**解决**：
```bash
pip install pandas
```

### 问题2：导入akshare失败

**错误信息**：`ImportError: cannot import name 'ak' from 'akshare'`

**解决**：确保在 `quant_system` 目录下运行，而不是在其他地方

### 问题3：编码错误

**错误信息**：`UnicodeDecodeError`

**解决**：
```bash
# Windows设置环境变量
set PYTHONIOENCODING=utf-8

# 或在Python代码开头添加
# -*- coding: utf-8 -*-
```

### 问题4：权限错误（Mac/Linux）

**错误信息**：`PermissionError: [Errno 13]`

**解决**：
```bash
# 给脚本添加执行权限
chmod +x main.py

# 或使用python明确调用
python main.py
```

### 问题5：找不到路径

**错误信息**：`FileNotFoundError: [Errno 2] No such file or directory`

**解决**：
```bash
# 确认当前路径
pwd  # Mac/Linux
cd   # Windows

# 应该在 .../akshare/quant_system 目录下
# 如果不对，用cd命令切换
cd /path/to/akshare/quant_system
```

## 📚 下一步学习

1. **阅读README.md** - 理解系统架构
2. **查看代码** - 了解各模块实现
3. **修改参数** - 尝试不同配置
4. **添加功能** - 根据需要扩展

## 💰 进阶：云服务器部署（可选）

如果你想让系统每天自动运行，可以：

### 推荐云服务器提供商

1. **阿里云** - 学生优惠便宜
2. **腾讯云** - 新用户有优惠
3. **华为云** - 国内访问快

### 最小配置要求
- CPU: 1核
- 内存: 2GB
- 硬盘: 20GB
- 系统: Ubuntu 20.04 LTS

### 部署步骤（简化版）

```bash
# 1. SSH登录服务器
ssh root@你的服务器IP

# 2. 安装Python和Git
apt update
apt install python3 python3-pip git -y

# 3. 克隆项目
git clone https://github.com/weiben1989/akshare.git
cd akshare/quant_system

# 4. 安装依赖
pip3 install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple

# 5. 测试运行
python3 main.py

# 6. 设置定时任务
crontab -e
# 添加：0 16 * * 1-5 cd /root/akshare/quant_system && python3 main.py
```

但建议**先在本地熟悉后再考虑云服务器**。

## 🆘 需要帮助？

1. 查看日志文件：`logs/quant_system_YYYYMMDD.log`
2. 查看错误日志：`logs/error_YYYYMMDD.log`
3. GitHub提交Issue
4. 参考AKShare官方文档

---

**祝你使用愉快！有问题随时问！** 🎉
